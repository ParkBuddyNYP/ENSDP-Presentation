#pragma checksum "C:\Users\User\Desktop\ParkBuddies_25.1\ParkBuddies\ParkBuddies\Views\Admin\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e1f43843c55116da8d94da8125c55d49b2db90c6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Admin_Index), @"mvc.1.0.view", @"/Views/Admin/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Admin/Index.cshtml", typeof(AspNetCore.Views_Admin_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\User\Desktop\ParkBuddies_25.1\ParkBuddies\ParkBuddies\Views\_ViewImports.cshtml"
using ParkBuddies;

#line default
#line hidden
#line 2 "C:\Users\User\Desktop\ParkBuddies_25.1\ParkBuddies\ParkBuddies\Views\_ViewImports.cshtml"
using ParkBuddies.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e1f43843c55116da8d94da8125c55d49b2db90c6", @"/Views/Admin/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a3ce52700fe2db686e17e796f3374ef95f34b00b", @"/Views/_ViewImports.cshtml")]
    public class Views_Admin_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "C:\Users\User\Desktop\ParkBuddies_25.1\ParkBuddies\ParkBuddies\Views\Admin\Index.cshtml"
  
    ViewData["Title"] = "Index";

#line default
#line hidden
            BeginContext(43, 6866, true);
            WriteLiteral(@"
<h2>ParkBuddies Admin</h2>


<!--Update-Database -context ParkBuddiesContext-->

<script>
    $(document).ready(function () {
        $(""#search"").click(function () {
            console.log(""click"");
            url = ""/api/Users/"";
            var company = document.getElementById(""dropDownCompanySearch"").value;
            callback = function (data) {
                var htmldata = """";
                $.each(data, function (i, item) {
                    if (item.companyName == company) {
                        htmldata += '<div class=""row"">' +
                            '<div class=""col-sm-3"">' + item.userName + '</div>' +
                            '<div class=""col-sm-3"">' + item.userEmail + '</div>' +
                            '<div class=""col-sm-3"">' + item.companyName + '</div>' +
                            '<div class=""col-sm-3""> <a href=""javascript:remove3(\'' +
                            item.userID + '\')""> remove </a> </div>' +
                            '</div>'
 ");
            WriteLiteral(@"                   }
                });
                $(""#adminview"").html(htmldata);
            };
            $.ajax({
                type: ""GET"",
                url: url,
                headers: {
                    'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
                },
                data: {},
                success: callback,
                error: callbackerror
            });
        });
    });
    function remove3(userID) {
        url = ""/api/Users/"" + userID;
        $.ajax({
            type: ""DELETE"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            success: callback
        });
    };
</script>

<script>
    $(document).ready(function () {
        $(""#searchAll"").click(function () {
            console.log(""click"");
            url = ""/api/Users/"";
            callback = function (data) {
                ");
            WriteLiteral(@"var htmldata = """";
                $.each(data, function (i, item) {
                    if (item.userRole != ""NormalUser"" || item.userRole != null && sessionStorage.getItem(""role"").toString() != ""ParkBuddyAdmin"") {
                        htmldata += '<div class=""row"">' +
                            '<div class=""col-sm-3"">' + item.userName + '</div>' +
                            '<div class=""col-sm-3"">' + item.userEmail + '</div>' +
                            '<div class=""col-sm-3"">' + item.companyName + '</div>' +
                            '<div class=""col-sm-3""> <a href=""javascript:remove2(\'' +
                            item.userID + '\')""> remove </a> </div>' +
                            '</div>'
                    }

                });
                $(""#adminview"").html(htmldata);
            };
            callbackerror = function (data) { alert(""Error""); };
            $.ajax({
                type: ""GET"",
                url: url,
                headers: {
            ");
            WriteLiteral(@"        'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
                },
                data: {},
                success: callback,
                error: callbackerror
            });
        });
    });
    function loadReports() {

        url = ""/api/UserReports"";
        callback = function (data) {
            var htmldata = """";
            $.each(data, function (i, item) {
                console.log(""a"")
                htmldata += '<div class=""row"">' +
                    '<div class=""col-sm-3"">' + item.reportDescription + '</div>' +
                    '<div class=""col-sm-3"">' + item.reportType + '</div>' +
                    '<div class=""col-sm-3"">' + item.carparkName + '</div>' +
                    '<div class=""col-sm-3""><img src=""' + item.reportImage + '"" alt=""Trulli"" width=""200"" height=""200""></div>' +
                    '</div>'

            });
            $(""#reportview"").html(htmldata);
        };
        $.ajax({
            type: ""GE");
            WriteLiteral(@"T"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            data: {},
            success: callback
        });
    };
    $(document).ready(loadReports);
    /*
    function loadAdmin() {
        url = ""/api/Users/"";
        var company = document.getElementById(""dropDownCompanySearch"").value;
        callback = function (data) {
            var htmldata = """";
            $.each(data, function (i, item) {
                htmldata += '<div class=""row"">' +
                    '<div class=""col-sm-3"">' + item.userName + '</div>' +
                    '<div class=""col-sm-3"">' + item.userEmail + '</div>' +
                    '<div class=""col-sm-3"">' + item.companyName + '</div>' +
                    '<div class=""col-sm-3""> <a href=""javascript:remove(\'' +
                    item.userID + '\')""> remove </a> </div>' +
                    '</div>'
            });
            $(""#adminvi");
            WriteLiteral(@"ew"").html(htmldata);
        };
        $.ajax({
            type: ""GET"",
            url: url,
            data: {},
            success: callback
        });
    };
    $(document).ready(loadAdmin);*/
    function remove2(userID) {
        url = ""/api/Users/"" + userID;
        $.ajax({
            type: ""DELETE"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            success: callback
        });
    };
</script>

<script>
    $(document).ready(function () {
        $(""#addCompany"").click(function () {
            console.log(""click"");
            url = ""/api/CarparkCompanies"";
            var company = document.getElementById(""company"").value;
            if (company == """") {
                alert(""Please Fill All Required Field"");
                return false;
            }
            s = '{""CompanyName"" : ""' + company + '"" }';
            callback = function (data) ");
            WriteLiteral(@"{
                alert(""New Company inserted.""); window.location.reload();
            };
            callbackerror = function (data) { alert(""Company not inserted.""); };
            $.ajax({
                type: ""POST"",
                url: url,
                data: s,
                headers: {
                    'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
                },
                success: callback,
                error: callbackerror,
                processData: false,
                contentType: 'application/json'
            });
        });
    });
</script>

<script>
    function validateEmail(email) {
        var re = /^(([^<>()[\]\\.,;:\s");
            EndContext();
            BeginContext(6910, 25, true);
            WriteLiteral("@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s");
            EndContext();
            BeginContext(6936, 18, true);
            WriteLiteral("@\\\"]+)*)|(\\\".+\\\"))");
            EndContext();
            BeginContext(6955, 1764, true);
            WriteLiteral(@"@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    }

    $(document).ready(function () {
        $(""#addAdmin"").click(function () {

            console.log(""click"");
            url = ""/api/Users/register"";
            var adminUsername = document.getElementById(""adminUsername"").value;
            var adminName = document.getElementById(""adminName"").value;
            var adminEmail = document.getElementById(""adminEmail"").value;
            var adminPassword = document.getElementById(""adminPassword"").value;
            var adminCfmPassword = document.getElementById(""adminCfmPassword"").value;
            var adminCompanyName = document.getElementById(""dropDownCompany"").value;
            var role = ""CompanyAdmin"";
            s = '{""Username"" : ""' + adminUsername + '"",""Name"" : ""' + adminName + '"",""UserEmail"" : ""'
                + adminEmail + '"",""userPassword"" : ""' + adminPassword + '"",""UserRole"" : ""' + role + '"", ");
            WriteLiteral(@"""CompanyName"" : ""'
                + adminCompanyName + '"" }';

            if (adminUsername == """" || adminName == """" || adminEmail == """" || adminPassword == """" || adminCfmPassword == """" || adminCompanyName == """") {
                alert(""Please fill in all inputs."")
            }
            else {
                if (adminPassword != adminCfmPassword) {
                    alert(""Passwords are not the same"")
                }
                else {
                    if (validateEmail(adminEmail)) {
                        callback = function (data) {
                            alert(""Admin Registered. "");
                            console.log(data[""name""])
                            window.location.href = """);
            EndContext();
            BeginContext(8720, 28, false);
#line 222 "C:\Users\User\Desktop\ParkBuddies_25.1\ParkBuddies\ParkBuddies\Views\Admin\Index.cshtml"
                                               Write(Url.Action("Index", "Admin"));

#line default
#line hidden
            EndContext();
            BeginContext(8748, 4139, true);
            WriteLiteral(@""";
                        };
                        callbackerror = function (data) { alert(""User not registered.""); };
                        $.ajax({
                            type: ""POST"",
                            url: url,
                            data: s,
                            headers: {
                                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
                            },
                            success: callback,
                            error: callbackerror,
                            processData: false,
                            contentType: 'application/json'

                        });
                    }
                    else {
                        alert(""Email format is invalid"")
                    }
                }
            }
        });
    });
</script>

<script>
    function loadCompany() {
        var ddl = document.getElementById(""dropDownCompany"");
        var ddlSearch =");
            WriteLiteral(@" document.getElementById(""dropDownCompanySearch"");

        var arr = [];
        url = ""/api/CarparkCompanies/"";
        callback = function (data) {
            var htmldata = """";
            $.each(data, function (i, item) {
                arr.push(item[""companyName""]);
                ddl[ddl.length] = new Option(arr[i], arr[i]);
                ddlSearch[ddlSearch.length] = new Option(arr[i], arr[i]);

                htmldata += '<div class=""row"">' +
                    '<div class=""col-sm-4"">' + item.companyName + '</div>' +
                    '<div class=""col-sm-4""> <a href=""javascript:remove(\'' +
                    item.companyID + '\')""> remove </a> </div>' +
                    '</div>'

            });
            $(""#companyview"").html(htmldata);
        };
        $.ajax({
            type: ""GET"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            data: {},");
            WriteLiteral(@"
            success: callback
        });
    };
    $(document).ready(loadCompany);
    function remove(companyID) {
        url = ""/api/CarparkCompanies/"" + companyID;
        $.ajax({
            type: ""DELETE"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            success: location.reload()
        }); 
    }; 
</script>

<script>
    function loadUsers() {
        url = ""/api/Users/"";
        callback = function (data) {
            var htmldata = """";
            $.each(data, function (i, item) {
                if (item.userRole == ""NormalUser"") {
                    htmldata += '<div class=""row"">' +
                        '<div class=""col-sm-3"">' + item.userName + '</div>' +
                        '<div class=""col-sm-3"">' + item.userEmail + '</div>' +
                        '<div class=""col-sm-2"">' + item.currentLotUsed + '</div>' +
                        '<div cla");
            WriteLiteral(@"ss=""col-sm-2"">' + item.carparkid + '</div>' +
                        '<div class=""col-sm-2""> <a href=""javascript:remove2(\'' +
                        item.userID + '\')""> remove </a> </div>' +
                        '</div>'
                }

            });
            $(""#userview"").html(htmldata);
        };
        callbackerror = function (data) { alert(""Error""); };
        $.ajax({
            type: ""GET"",
            url: url,
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            data: {},
            success: callback,
            error: callbackerror
        });
    };
    $(document).ready(loadUsers);
    function remove2(userID) {
        url = ""/api/Users/"" + userID;
        $.ajax({
            type: ""DELETE"",
            headers: {
                'Authorization': 'Bearer ' + sessionStorage.getItem(""token"").toString(),
            },
            url: url,
            success: lo");
            WriteLiteral("adUsers\r\n        });\r\n    };\r\n</script>\r\n\r\n");
            EndContext();
            BeginContext(12887, 7348, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "1ede85c036a844049b22ecdc74fa82ca", async() => {
                BeginContext(12893, 7335, true);
                WriteLiteral(@"

    <ul class=""nav nav-tabs"">
        <li class=""active""><a href=""#viewCarpark"" data-toggle=""tab"">View/Create Company</a></li>
        <li><a href=""#viewAdmin"" data-toggle=""tab"">View All Company Admins</a></li>
        <li><a href=""#createAdmin"" data-toggle=""tab"">Create Company Admins</a></li>
        <li><a href=""#viewAllUsers"" data-toggle=""tab"">View All Users</a></li>
        <li><a href=""#viewAllReports"" data-toggle=""tab"">View Reports</a></li>
    </ul>

    <div id=""myTabContent"" class=""tab-content"">
        <div class=""tab-pane fade active in"" id=""viewCarpark"">
            <br />
            <div class=""row"">
                <div class=""col-md-6"">
                    <div class=""well well-lg"">
                        <div class=""validation-summary-valid"" data-valmsg-summary=""true"">
                            <ul><li style=""display:none""></li></ul>
                        </div>
                        <label>Company Name:</label>
                        <p><input type=""text"" class=");
                WriteLiteral(@"""form-control"" id=""company"" /></p>
                        <button type=""submit"" class=""btn btn-default"" id=""addCompany"">Add New Company</button>
                    </div>
                    <p></p>
                </div>
                <div class=""col-md-6"">
                    <div class=""well well-lg"">
                        <div class=""row"">
                            <div id=""companyviewheader"" class=""container-fluid"">
                                <div class=""col-sm-6"">
                                    <b>Company Name</b>
                                </div>
                                <div class=""col-sm-6"">

                                </div>
                            </div>
                        </div>

                        <hr />
                        <div id=""companyview"" class=""container-fluid"">
                        </div>
                    </div>

                    <br />
                </div>
            </div>


        </div>
   ");
                WriteLiteral(@"     <div class=""tab-pane fade"" id=""viewAdmin"">
            <br />
            <div class=""well well-lg"">
                <div class=""row"">
                    <label>Select Company Name:</label>
                    <p><select class=""form-control"" id=""dropDownCompanySearch""></select></p>
                    <button type=""submit"" class=""btn btn-default"" id=""search"">Select Company Admins</button>
                    <button type=""submit"" class=""btn btn-default"" id=""searchAll"">Display all Company Admins</button>
                </div>
            </div>
            <div class=""well well-lg"">
                <div id=""adminviewheader"" class=""container-fluid"">
                    <div class=""row"">
                        <div class=""col-sm-3"">
                            <b>Admin Name</b>
                        </div>
                        <div class=""col-sm-3"">
                            <b>Email</b>
                        </div>
                        <div class=""col-sm-3"">
             ");
                WriteLiteral(@"               <b>Company Name</b>
                        </div>
                        <div class=""col-sm-3"">
                        </div>
                    </div>
                </div>
                <div id=""adminview"" class=""container-fluid"">
                </div>
            </div>
        </div>
        <div class=""tab-pane fade"" id=""viewAllReports"">
            <div class=""well well-lg"">
                <div id=""reportviewheader"" class=""container-fluid"">
                    <div class=""row"">
                        <div class=""col-sm-3"">
                            <b>Report Description</b>
                        </div>
                        <div class=""col-sm-3"">
                            <b>Report Type</b>
                        </div>
                        <div class=""col-sm-3"">
                            <b>Carpark</b>
                        </div>
                        <div class=""col-sm-3"">
                            <b>Report Image</b>
             ");
                WriteLiteral(@"           </div>
                    </div>
                </div>
                <div id=""reportview"" class=""container-fluid"">
                </div>
            </div>
        </div>
        <div class=""tab-pane fade"" id=""createAdmin"">
            <p class=""bg-info"">Add a Admin User to the company that was just created.. </p>
            <div class=""well well-lg"">
                <div class=""row"">
                    <div class=""col-xs-6"">
                        <label>Admin Username:</label>
                        <p><input type=""text"" class=""form-control"" id=""adminUsername"" /></p>
                    </div>
                    <div class=""col-xs-6"">
                        <label>Admin Name:</label>
                        <p><input type=""text"" class=""form-control"" id=""adminName"" /></p>
                    </div>
                </div>
                <div class=""row"">
                    <div class=""col-xs-4"">
                        <label>User Email:</label>
                 ");
                WriteLiteral(@"       <p><input type=""text"" class=""form-control"" id=""adminEmail"" /></p>
                    </div>
                </div>
                <div class=""row"">
                    <div class=""col-xs-6"">
                        <label>Password:</label>
                        <p><input type=""password"" class=""form-control"" id=""adminPassword"" /></p>
                    </div>
                    <div class=""col-xs-6"">
                        <label>
                            Confirm Password:
                        </label>
                        <p><input type=""password"" class=""form-control"" id=""adminCfmPassword"" /></p>
                    </div>
                </div>
                <div class=""row"">
                    <div class=""col-xs-4"">
                        <label>
                            Company Name:
                        </label>
                        <p><select class=""form-control"" id=""dropDownCompany""></select></p>
                    </div>
                </div>");
                WriteLiteral(@"
                <button type=""submit"" class=""btn btn-default"" id=""addAdmin"">Add Company Admin</button>
            </div>
        </div>
        <div class=""tab-pane fade"" id=""viewAllUsers"">
            <br />
            <div class=""well well-lg"">
                <div id=""userviewheader"" class=""container-fluid"">
                    <div class=""row"">
                        <div class=""col-sm-3"">
                            <b>User Name</b>
                        </div>
                        <div class=""col-sm-3"">
                            <b>Email</b>
                        </div>
                        <div class=""col-sm-2"">
                            <b>Lot Used</b>
                        </div>
                        <div class=""col-sm-2"">
                            <b>Carpark ID</b>
                        </div>
                        <div class=""col-sm-2"">
                            Action
                        </div>
                    </div>
                  ");
                WriteLiteral("  <hr />\r\n                </div>\r\n                <div id=\"userview\" class=\"container-fluid\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(20235, 2, true);
            WriteLiteral("\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
